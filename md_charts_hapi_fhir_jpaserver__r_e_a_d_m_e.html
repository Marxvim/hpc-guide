<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Penrose Care Service: HAPI FHIR JPA Server Starter Helm Chart</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="memem.png"/></td>
  <td id="projectalign">
   <div id="projectname">Penrose Care Service
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('md_charts_hapi_fhir_jpaserver__r_e_a_d_m_e.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">HAPI FHIR JPA Server Starter Helm Chart </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><img src="https://img.shields.io/badge/Version-0.10.1-informational?style=flat-square" alt="Version: 0.10.1" class="inline"/> <img src="https://img.shields.io/badge/Type-application-informational?style=flat-square" alt="Type: application" class="inline"/> <img src="https://img.shields.io/badge/AppVersion-v6.x-informational?style=flat-square" alt="AppVersion: v6.x" class="inline"/></p>
<p>This helm chart will help you install the HAPI FHIR JPA Server in a Kubernetes environment.</p>
<h1><a class="anchor" id="autotoc_md1"></a>
Sample usage</h1>
<div class="fragment"><div class="line">helm repo add hapifhir https://hapifhir.github.io/hapi-fhir-jpaserver-starter/</div>
<div class="line">helm install --render-subchart-notes hapi-fhir-jpaserver hapifhir/hapi-fhir-jpaserver</div>
</div><!-- fragment --><blockquote class="doxtable">
<p>&zwj;âš  By default, the included <a href="https://github.com/bitnami/charts/tree/master/bitnami/postgresql#upgrading">PostgreSQL Helm chart</a> auto-generates a random password for the database which may cause problems when upgrading the chart (see <a href="https://github.com/bitnami/charts/tree/master/bitnami/postgresql#upgrading">here for details</a>). </p>
</blockquote>
<h1><a class="anchor" id="autotoc_md2"></a>
Values</h1>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Key   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Default   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">affinity   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">pod affinity    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">deploymentAnnotations   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">annotations applied to the server deployment    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">externalDatabase.database   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"fhir"</code>   </td><td class="markdownTableBodyNone">database name    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">externalDatabase.existingSecret   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">name of an existing secret resource containing the DB password in the <code>existingSecretKey</code> key    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">externalDatabase.existingSecretKey   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"postgresql-password"</code>   </td><td class="markdownTableBodyNone">name of the key inside the <code>existingSecret</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">externalDatabase.host   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"localhost"</code>   </td><td class="markdownTableBodyNone">external database host used with <code>postgresql.enabled=false</code>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">externalDatabase.password   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">database password    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">externalDatabase.port   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>5432</code>   </td><td class="markdownTableBodyNone">database port number    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">externalDatabase.user   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"fhir"</code>   </td><td class="markdownTableBodyNone">username for the external database    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">extraEnv   </td><td class="markdownTableBodyNone">list   </td><td class="markdownTableBodyNone"><code>[]</code>   </td><td class="markdownTableBodyNone">extra environment variables to set on the server container    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">fullnameOverride   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">override the chart fullname    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">image.pullPolicy   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"IfNotPresent"</code>   </td><td class="markdownTableBodyNone">image pullPolicy to use    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">image.registry   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"docker.io"</code>   </td><td class="markdownTableBodyNone">registry where the HAPI FHIR server image is hosted    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">image.repository   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"hapiproject/hapi"</code>   </td><td class="markdownTableBodyNone">the path inside the repository    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">image.tag   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"v6.1.0@sha256:253f87bb1f5b7627f8e25f76a4b0aa7a83f31968c6e111ad74d3cc4ad9ae812e"</code>   </td><td class="markdownTableBodyNone">the image tag. As of v5.7.0, this is the <code>distroless</code> flavor by default, add <code>-tomcat</code> to use the Tomcat-based image.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">imagePullSecrets   </td><td class="markdownTableBodyNone">list   </td><td class="markdownTableBodyNone"><code>[]</code>   </td><td class="markdownTableBodyNone">image pull secrets to use when pulling the image    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ingress.annotations   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">provide any additional annotations which may be required. Evaluated as a template.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ingress.enabled   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone">whether to create an Ingress to expose the FHIR server HTTP endpoint    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ingress.hosts[0].host   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"fhir-server.127.0.0.1.nip.io"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ingress.hosts[0].pathType   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"ImplementationSpecific"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ingress.hosts[0].paths[0]   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"/"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">ingress.tls   </td><td class="markdownTableBodyNone">list   </td><td class="markdownTableBodyNone"><code>[]</code>   </td><td class="markdownTableBodyNone">ingress TLS config    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">livenessProbe.failureThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>5</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">livenessProbe.initialDelaySeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>30</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">livenessProbe.periodSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>20</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">livenessProbe.successThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>1</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">livenessProbe.timeoutSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>30</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">metrics.service.port   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>8081</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">metrics.serviceMonitor.additionalLabels   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">additional labels to apply to the ServiceMonitor object, e.g. <code>release: prometheus</code>    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">metrics.serviceMonitor.enabled   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone">if enabled, creates a ServiceMonitor instance for Prometheus Operator-based monitoring    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">nameOverride   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">override the chart name    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">nodeSelector   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">node selector for the pod    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">podAnnotations   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">annotations applied to the server pod    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">podDisruptionBudget.enabled   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone">Enable PodDisruptionBudget for the server pods. uses policy/v1/PodDisruptionBudget thus requiring k8s 1.21+    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">podDisruptionBudget.maxUnavailable   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">maximum unavailable instances    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">podDisruptionBudget.minAvailable   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>1</code>   </td><td class="markdownTableBodyNone">minimum available instances    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">podSecurityContext   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">pod security context    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">postgresql.auth.database   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"fhir"</code>   </td><td class="markdownTableBodyNone">name for a custom database to create    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">postgresql.auth.existingSecret   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>""</code>   </td><td class="markdownTableBodyNone">Name of existing secret to use for PostgreSQL credentials <code>auth.postgresPassword</code>, <code>auth.password</code>, and <code>auth.replicationPassword</code> will be ignored and picked up from this secret The secret must contain the keys <code>postgres-password</code> (which is the password for "postgres" admin user), <code>password</code> (which is the password for the custom user to create when <code>auth.username</code> is set), and <code>replication-password</code> (which is the password for replication user). The secret might also contains the key <code>ldap-password</code> if LDAP is enabled. <code>ldap.bind_password</code> will be ignored and picked from this secret in this case. The value is evaluated as a template.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">postgresql.enabled   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone">enable an included PostgreSQL DB. see <a href="https://github.com/bitnami/charts/tree/master/bitnami/postgresql">https://github.com/bitnami/charts/tree/master/bitnami/postgresql</a> for details if set to <code>false</code>, the values under <code>externalDatabase</code> are used    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">postgresql.primary.containerSecurityContext.allowPrivilegeEscalation   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">postgresql.primary.containerSecurityContext.capabilities.drop[0]   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"ALL"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">postgresql.primary.containerSecurityContext.runAsNonRoot   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">postgresql.primary.containerSecurityContext.seccompProfile.type   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"RuntimeDefault"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">readinessProbe.failureThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>5</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">readinessProbe.initialDelaySeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>30</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">readinessProbe.periodSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>20</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">readinessProbe.successThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>1</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">readinessProbe.timeoutSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>20</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">replicaCount   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>1</code>   </td><td class="markdownTableBodyNone">number of replicas to deploy    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">resources   </td><td class="markdownTableBodyNone">object   </td><td class="markdownTableBodyNone"><code>{}</code>   </td><td class="markdownTableBodyNone">configure the FHIR server's resource requests and limits    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">securityContext.allowPrivilegeEscalation   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">securityContext.capabilities.drop[0]   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"ALL"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">securityContext.privileged   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>false</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">securityContext.readOnlyRootFilesystem   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">securityContext.runAsGroup   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>65532</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">securityContext.runAsNonRoot   </td><td class="markdownTableBodyNone">bool   </td><td class="markdownTableBodyNone"><code>true</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">securityContext.runAsUser   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>65532</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">securityContext.seccompProfile.type   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"RuntimeDefault"</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">service.port   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>8080</code>   </td><td class="markdownTableBodyNone">port where the server will be exposed at    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">service.type   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone"><code>"ClusterIP"</code>   </td><td class="markdownTableBodyNone">service type    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">startupProbe.failureThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>10</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">startupProbe.initialDelaySeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>60</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">startupProbe.periodSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>30</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">startupProbe.successThreshold   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>1</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">startupProbe.timeoutSeconds   </td><td class="markdownTableBodyNone">int   </td><td class="markdownTableBodyNone"><code>30</code>   </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">tolerations   </td><td class="markdownTableBodyNone">list   </td><td class="markdownTableBodyNone"><code>[]</code>   </td><td class="markdownTableBodyNone">pod tolerations    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">topologySpreadConstraints   </td><td class="markdownTableBodyNone">list   </td><td class="markdownTableBodyNone"><code>[]</code>   </td><td class="markdownTableBodyNone">pod topology spread configuration see: <a href="https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/#api">https://kubernetes.io/docs/concepts/workloads/pods/pod-topology-spread-constraints/#api</a>   </td></tr>
</table>
<h1><a class="anchor" id="autotoc_md3"></a>
Development</h1>
<p>To update the Helm chart when a new version of the <code>hapiproject/hapi</code> image is released, <a href="values.yaml">values.yaml</a> <code>image.tag</code> and the <a href="Chart.yaml">Chart.yaml</a>'s <code>version</code> and optionally the <code>appVersion</code> field on major releases need to be updated. Afterwards, re-generate the <a class="el" href="md__r_e_a_d_m_e.html">README.md</a> by running:</p>
<div class="fragment"><div class="line">$ helm-docs</div>
<div class="line">INFO[2021-11-20T12:38:04Z] Found Chart directories [charts/hapi-fhir-jpaserver]</div>
<div class="line">INFO[2021-11-20T12:38:04Z] Generating README Documentation for chart /usr/src/app/charts/hapi-fhir-jpaserver</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md4"></a>
Enable Distributed Tracing based on the OpenTelemtry Java Agent</h1>
<p>The container image includes the <a href="https://github.com/open-telemetry/opentelemetry-java-instrumentation">OpenTelemetry Java agent JAR</a> which can be used to enable distributed tracing. It can be configured entirely using environment variables, see <a href="https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/">https://opentelemetry.io/docs/instrumentation/java/automatic/agent-config/</a> for details.</p>
<p>Here's an example setup deploying <a href="https://www.jaegertracing.io/">Jaeger</a> as a tracing backend:</p>
<div class="fragment"><div class="line"># required by the Jaeger Operator</div>
<div class="line">kubectl apply -f https://github.com/cert-manager/cert-manager/releases/download/v1.9.1/cert-manager.yaml</div>
<div class="line">kubectl create namespace observability</div>
<div class="line">kubectl create -f https://github.com/jaegertracing/jaeger-operator/releases/download/v1.37.0/jaeger-operator.yaml -n observability</div>
<div class="line"> </div>
<div class="line">cat &lt;&lt;EOF | kubectl apply -n observability -f -</div>
<div class="line"># simple, all-in-one Jaeger installation. Not suitable for production use.</div>
<div class="line">apiVersion: jaegertracing.io/v1</div>
<div class="line">kind: Jaeger</div>
<div class="line">metadata:</div>
<div class="line">  name: simplest</div>
<div class="line">EOF</div>
</div><!-- fragment --><p>Use this chart's <code>extraEnv</code> value to set the required environment variables:</p>
<div class="fragment"><div class="line">extraEnv:</div>
<div class="line">  - name: JAVA_TOOL_OPTIONS</div>
<div class="line">    value: &quot;-javaagent:/app/opentelemetry-javaagent.jar&quot;</div>
<div class="line">  - name: OTEL_METRICS_EXPORTER</div>
<div class="line">    value: &quot;none&quot;</div>
<div class="line">  - name: OTEL_LOGS_EXPORTER</div>
<div class="line">    value: &quot;none&quot;</div>
<div class="line">  - name: OTEL_TRACES_EXPORTER</div>
<div class="line">    value: &quot;jaeger&quot;</div>
<div class="line">  - name: OTEL_SERVICE_NAME</div>
<div class="line">    value: &quot;hapi-fhir-jpaserver&quot;</div>
<div class="line">  - name: OTEL_EXPORTER_JAEGER_ENDPOINT</div>
<div class="line">    value: &quot;http://simplest-collector.observability.svc:14250&quot;</div>
</div><!-- fragment --><p>Finally, you can open the Jaeger query UI by running:</p>
<div class="fragment"><div class="line">kubectl port-forward -n observability service/simplest-query 16686:16686</div>
</div><!-- fragment --><p>and opening <a href="http://localhost:16686/">http://localhost:16686/</a> in your browser.</p>
<hr  />
<p> Autogenerated from chart metadata using <a href="https://github.com/norwoodj/helm-docs/releases/v1.11.0">helm-docs v1.11.0</a> </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
